<!DOCTYPE html>
<html>
<head>
  <title>Live Driver Tracking</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>#map { height: 100vh; }</style>
</head>
<body>
  <div id="map"></div>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <script>
   
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyA0WX1RHHgPVShhBeXxO5pd37_s0UVzaWI",
  authDomain: "drivertracking-89b31.firebaseapp.com",
  databaseURL: "https://drivertracking-89b31-default-rtdb.firebaseio.com",
  projectId: "drivertracking-89b31",
  storageBucket: "drivertracking-89b31.firebasestorage.app",
  messagingSenderId: "450841173720",
  appId: "1:450841173720:web:faa6bc5ac7d5401e4a41ad"
};


    firebase.initializeApp(firebaseConfig);
    var db = firebase.database();

    var map = L.map('map').setView([0, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    var marker = L.marker([0, 0]).addTo(map);

    db.ref("drivers/driver1").on("value", function(snapshot) {
      var data = snapshot.val();
      if (data) {
        var lat = data.latitude;
        var lon = data.longitude;
        marker.setLatLng([lat, lon]);
        map.setView([lat, lon], 15);
      }
    });
  </script>
</body>
</html>
